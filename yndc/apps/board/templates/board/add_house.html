{% extends "base_index.html" %}
{% block content %}
    <div class="container-fluid">
        <section>
            <form action="" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                {{ board_formset.management_form }}
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Add Property</h3>
                    </div>
                    <table class="table">
                        <tr>
                            <td>
                                <div class="form-group{% if house_form.address.errors %} has-error{% endif %}">
                                    <label>Address</label>
                                    <input type="text" name="address" placeholder="Address" {% if house_form.address.value %}value="{{ house_form.address.value }}"{% endif %} class="form-control">
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="form-group{% if house_form.neighborhood.errors %} has-error{% endif %}">
                                    <label>Neighborhood</label>
                                    <select name="neighborhood" class="form-control">
                                    {% for id, name in house_form.neighborhood.field.choices %}
                                    <option value="{{ id }}"{% if house_form.neighborhood.value|add:"0" == id %} selected="selected"{% endif %}>{{ name }}</option>
                                    {% endfor %}
                                    </select>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="form-group{% if house_form.notes.errors %} has-error{% endif %}">
                                    <label>Notes</label>
                                    <textarea name="notes" class="form-control" rows="3">{% if house_form.notes.value %}{{ house_form.notes.value }}{% endif %}</textarea>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="form-group">
                                    <label>Photo</label>
                                    {{ house_form.photo }}
                                    {% if house_form.photo.errors %}
                                    <p class="photo-help help-block">A photo is required</p>
                                    {% endif %}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>Outside</label>
                                <div class="form-group">
                                    {% for field in house_form.outside_checklist_fields %}
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" name="{{ field.name }}"{% if field.value %} checked{% endif %}> {{ field.field.help_text }}
                                        </label>
                                    </div>
                                    {% endfor %}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>Removal</label>
                                <div class="form-group">
                                    {% for field in house_form.removal_checklist_fields %}
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" name="{{ field.name }}"{% if field.value %} checked{% endif %}> {{ field.field.help_text }}
                                        </label>
                                    </div>
                                    {% endfor %}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>General</label>
                                <div class="form-group">
                                    {% for field in house_form.general_checklist_fields %}
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" name="{{ field.name }}"{% if field.value %} checked{% endif %}> {{ field.field.help_text }}
                                        </label>
                                    </div>
                                    {% endfor %}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5>Boards</h5>
                                {% for form in board_formset.forms %}
                                <div class="row">
                                    <label class="col-sm-1 control-label">Board</label>
                                    <div class="col-sm-10">
                                    {% for field in form.visible_fields %}
                                        <div class="form-group inline-input">
                                            {{ field }}
                                        </div>
                                    {% endfor %}
                                    </div>
                                </div>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-default">Submit</button>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </form>
        </section>
    </div>
{% endblock content %}
